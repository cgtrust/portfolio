import React, { useEffect, useRef } from 'react';
import Snap from 'snapsvg-cjs';

const WaveAnimation = () => {
  const svgRef = useRef(null);

  useEffect(() => {
    const s = Snap(svgRef.current);

    const animatePath = (path, from, to, duration) => {
      path.animate({ d:to }, duration, mina.easeinout, () => {
        path.animate({ d:from }, duration, mina.easeinout, () => {
          animatePath(path, from, to, duration);
        })
      })
    }

    const pathData = [
      {
        element: s.select('#path1'),
        from: 'M875.7,213.6c-68.9,0-125.2,15-125.2,15,0,0-56.1,12.6-125,12.6s-180.9-27.6-249.8-27.6-125.2,15-125.2,15c0,0-56.1,12.6-125,12.6S.5,226.2.5,226.2v70.9s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15v-70.9c0-8.3-55.9-15-124.8-15Z',
        to: 'M875.7,213.6c-68.9,0-125.2,30-125.2,30,0,0-56.1,25.2-125,25.2s-180.9-55.2-249.8-55.2-125.2,30-125.2,30c0,0-56.1,25.2-125,25.2S.5,226.2.5,226.2v70.9s56.1,30,125,30,125-25.2,125-25.2c0,0,56.3-30,125.2-30s180.9,55.2,249.8,55.2,125-25.2,125-25.2c0,0,56.3-30,125.2-30s124.8,13.4,124.8,30v-70.9c0-16.6-55.9-30-124.8-30Z',
      },
      {
        element: s.select('#path2'),
        from: 'M875.7,144.4c-68.9,0-125.2,15-125.2,15,0,0-56.1,12.6-125,12.6s-180.9-27.6-249.8-27.6-125.2,15-125.2,15c0,0-56.1,12.6-125,12.6S.5,157,.5,157v69.2s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15v-69.2c0-8.3-55.9-15-124.8-15Z',
        to: 'M875.7,144.4c-68.9,0-125.2,30-125.2,30,0,0-56.1,25.2-125,25.2s-180.9-55.2-249.8-55.2-125.2,30-125.2,30c0,0-56.1,25.2-125,25.2S.5,157,.5,157v69.2s56.1,30,125,30,125-25.2,125-25.2c0,0,56.3-30,125.2-30s180.9,55.2,249.8,55.2,125-25.2,125-25.2c0,0,56.3-30,125.2-30s124.8,13.4,124.8,30v-69.2c0-16.6-55.9-30-124.8-30Z',
      },
      {
        element: s.select('#path3'),
        from: 'M875.7,75.5c-68.9,0-125.2,15-125.2,15,0,0-56.1,12.6-125,12.6s-180.9-27.6-249.8-27.6-125.2,15-125.2,15c0,0-56.1,12.6-125,12.6S.5,88.1.5,88.1v68.9s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15v-68.9c0-8.3-55.9-15-124.8-15Z',
        to: 'M875.7,75.5c-68.9,0-125.2,30-125.2,30,0,0-56.1,25.2-125,25.2s-180.9-55.2-249.8-55.2-125.2,30-125.2,30c0,0-56.1,25.2-125,25.2S.5,88.1,.5,88.1v68.9s56.1,30,125,30,125-25.2,125-25.2c0,0,56.3-30,125.2-30s180.9,55.2,249.8,55.2,125-25.2,125-25.2c0,0,56.3-30,125.2-30s124.8,13.4,124.8,30v-68.9c0-16.6-55.9-30-124.8-30Z',
      },
      {
        element: s.select('#path4'),
        from: 'M875.5.5c-68.9,0-125,15-125,15,0,0-55.9,12.6-124.8,12.6s-125.2-15-125.2-15c0,0-56.1-12.6-125-12.6s-125,15-125,15c0,0-55.9,12.6-124.8,12.6S.5,13.1.5,13.1v75s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15V15.5S944.4.5,875.5.5Z',
        to: 'M875.5.5c-68.9,0-125,30-125,30,0,0-55.9,25.2-124.8,25.2s-125.2-30-125.2-30c0,0-56.1-25.2-125-25.2s-125,30-125,30c0,0-55.9,25.2-124.8,25.2S.5,13.1,.5,13.1v75s56.1,30,125,30,125-25.2,125-25.2c0,0,56.3-30,125.2-30s180.9,55.2,249.8,55.2,125-25.2,125-25.2c0,0,56.3-30,125.2-30s124.8,13.4,124.8,30V15.5S944.4.5,875.5.5Z',
      },
    ];

    pathData.forEach(({ element, from, to }) => {
      animatePath(element, from, to, 3000);
    })

  }, []);

  return (
    <svg
      id="Layer_1"
      data-name="Layer 1"
      xmlns="http://www.w3.org/2000/svg"
      version="1.1"
      viewBox="0 0 1001 312.6"
      ref={svgRef}
      style={{ width: '100%', height: 'auto' }}
    >
      <defs>
        <style>
          {`.cls-1 {
            fill: #F9F7F3;
            stroke: #191C19;
            stroke-miterlimit: 10;
          }`}
        </style>
      </defs>
      <path id="path1" className="cls-1" d="M875.7,213.6c-68.9,0-125.2,15-125.2,15,0,0-56.1,12.6-125,12.6s-180.9-27.6-249.8-27.6-125.2,15-125.2,15c0,0-56.1,12.6-125,12.6S.5,226.2.5,226.2v70.9s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15v-70.9c0-8.3-55.9-15-124.8-15Z" mask="url(#top-mask)" />
      <path id="path2" className="cls-1" d="M875.7,144.4c-68.9,0-125.2,15-125.2,15,0,0-56.1,12.6-125,12.6s-180.9-27.6-249.8-27.6-125.2,15-125.2,15c0,0-56.1,12.6-125,12.6S.5,157,.5,157v69.2s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15v-69.2c0-8.3-55.9-15-124.8-15Z" mask="url(#top-mask)" />
      <path id="path3" className="cls-1" d="M875.7,75.5c-68.9,0-125.2,15-125.2,15,0,0-56.1,12.6-125,12.6s-180.9-27.6-249.8-27.6-125.2,15-125.2,15c0,0-56.1,12.6-125,12.6S.5,88.1.5,88.1v68.9s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15v-68.9c0-8.3-55.9-15-124.8-15Z" mask="url(#top-mask)" />
      <path id="path4" className="cls-1" d="M875.5.5c-68.9,0-125,15-125,15,0,0-55.9,12.6-124.8,12.6s-125.2-15-125.2-15c0,0-56.1-12.6-125-12.6s-125,15-125,15c0,0-55.9,12.6-124.8,12.6S.5,13.1.5,13.1v75s56.1,15,125,15,125-12.6,125-12.6c0,0,56.3-15,125.2-15s180.9,27.6,249.8,27.6,125-12.6,125-12.6c0,0,56.3-15,125.2-15s124.8,6.7,124.8,15V15.5S944.4.5,875.5.5Z" mask="url(#top-mask)" />
    </svg>
  );
};

export default WaveAnimation;